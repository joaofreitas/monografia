\chapter{Metodologia de desenvolvimento}

Para a realização deste trabalho, foi planejada uma metodologia de desenvolvimento na qual objetivou-se a construção da arquitetura do SMA por meio de uma metologia de desenvolvimento de SMAs. Inicialmente, foi necessário um levantamento de bibliografias relacionadas à Informática na Educação para o entendimento do problema do trabalho, além de levantamentos de uso de SMA em contextos pegagógicos.

Em seguida foi aplicada, foi realizado estudos aprofundados na metodologia MASE para a implementação deste trabalho. Após o levantamento inicial, seu uso é divido em duas fases, conforme explicado na seção~\ref{section:mase}, sendo a primeira delas essêncial para o levantamento dos requisitos necessários para cumprir os objetivos. A segunda fase foi importante para a distribuição das regras entre os agentes que existem no sistema. As primeiras subseções deverão detalhar a modelagem.

A arquitetura básica do sistema já havia sido previamente decidida~\cite{editalFrank}, sendo necessário detalhar seus requisitos por meio da metodologia MASE. Além disso, os Ambientes Virtuais de Aprendizagem deveriam ser capazes de comunicar-se com a solução proposta, ou seja, a comunicação deve ser feita de forma independente da linguagem de programação. Por fim, foi definido~\cite{editalFrank} o nome da aplicação solução à ser desenvolvida:~\emph{Frank}.

Posteriormente o trabalho seguiu-se com a implementação do SMA na linguagem JAVA, utilizando-se das ferramentas JADE e JBoss Seam. As subseções seguintes deverão detalhar a implementação do Sistema Multiagente e da camada web, bem como a sua integração.

Por fim, a solução foi testada por meio de cenários que simulavam o uso por meio dos atores Aluno e Docente. A demonstração está detalhada no capítulo 4.

\section{A Modelagem}

A modelagem foi desenvolvida utilizando-se a ferramenta~\emph{agentTool}. A ferramenta possui meios para diagramar todas as fases e passos do MASE, auxiliando o analista em todos os diagramas necessários, além de gerar código automático para alguns frameworks de SMA.

Conforme dito a respeito do MASE, a metodologia é dividida em duas fases: Análise e Design. A primeira fase, responsável pelo levantamento de requisitos e entendimento das regras e tarefas, é apresentada na subseção~\ref{subsection:analise}. A segunda fase está apresentada em~\ref{subsection:design}.

\subsection{Análise}\label{subsection:analise}

A metodologia inicia-se com o passo de captura das metas. Para tanto, foi necessário primeiramente um levantamento inicial dos requisitos do SMA. Os requisitos foram levantados e compreendidos por meio de~\cite{editalFrank}, onde é possível listar:

\begin{enumerate}
	\item O sistema deve manter um modelo do estudante, onde será determinado o seu estilo de aprendizagem e será notíficado ao docente.
	\item O sistema deve assistir (auxiliar) o aluno por meio de um grupo de trabalho.
	\item O sistema deve fazer interface com Ambiente Virtual de Aprendizagem, a fim de estabelecer comportamentos do estudante.
	\item O sistema deve criar uma modelagem cognitiva do aluno, onde são mantidas informações sobre o desempenho, de acordo sua interação em Ambiente Virtual de Aprendizagem, e informações a respeito do seu estilo de aprendizagem.
	\item O sistema deve criar uma modelagem metacognitiva do aluno, onde são armazenadas informações com o intuito de melhorar processos de aprendizagem de domínios específicos.
	\item O sistema deve criar uma modelagem afetiva do estudante, especificamente a respeito da modelagem da personalidade e emoções do estudante.
	\item O sistema deve fazer interface com Ambiente Virtual de Aprendizagem.
	\item O sistema deve refutar ou confirmar o estilo de aprendizagem do aluno a partir do desempenho relacionado à interação com o sistema e/ou com Ambiente Virtual de Aprendizagem.
	\item O sistema SMA deve atualizar o modelo do estudante com base em inferências a partir dos registros de trabalho do estudante.
	\item O sistema deve construir o modelo do estudante a partir de uma modelagem explícita, ou seja, a partir do feedback explícito do estudante (questionário).
	\item O sistema deve construir o modelo do estudante a partir de uma modelagem implícita, ou seja, a partir do desempenho obtido nas ferramentas de aprendizado.
\end{enumerate}

A partir dos requisitos de~\cite{editalFrank}, foi possível estabelecer metas que o sistema deveria atingir para satisfazê-los:

\begin{itemize}
	\item Manter um modelo do estudante (Meta geral do sistema)
	\item Notificar ao docente
	\item Auxiliar o aluno por meio de um grupo de trabalho
	\item Criar modelagem cognitiva
	\item Criar modelagem metacognitiva
	\item Criar modelagem modelagem afetiva
	\item Criar modelagem da personalidade
	\item Criar modelagem das emoções do estudante
	\item Interface com ferramentas de aprendizagem dedicada
	\item Confirmar estilo de aprendizagem do aluno
	\item Refutar estilo de aprendizagem do aluno
	\item Construir modelo de desempenho do aluno
	\item Construir modelagem explícita
	\item Construir modelagem implícita
	\item Construir modelo de estilo de aprendizagem do aluno
\end{itemize}

A partir do levantamento, foi possível observar que a meta "Manter um modelo do estudante" abrange o escopo geral de toda a aplicação, sendo possível estabelecer como meta do sistema. Em seguida, foi necessário hierarquizar as metas de forma a encontrar quais metas poderiam ser estabelecidas com o cumprimento de outras. A imagem~\ref{fig:metas-frank} representa a hierarquia de metas que foi estabelecida. Os retângulos em cinza representam metas particionadas.

\begin{sidewaystable}
	\centering
	\includegraphics[scale=0.8]{images/metas-frank.png}
	\caption{Hierarquia de Metas do SMA Frank.}
	\label{fig:metas-frank}
\end{sidewaystable}

O segundo passo da metodologia consiste no desenvolvimento dos casos de uso. Foram levantados 5 principais casos de uso, alguns com fluxos alternativos que representam situações opcionais no caso de uso. Este trabalho utiliza-se da notação completa de desenvolvimento de casos de uso.

O primeiro caso de uso diz respeito à modelagem cognitiva do aluno. Existem dois cenários possíveis: Modelagem implícita (principal cenário de sucesso) e modelagem explícita (cenário alternativo). Basicamente o SMA deverá processar o questionário de estilos de aprendizagem, respondido pelo aluno, para inferir explicitamente o seu modelo cognitivo e deverá analisar as respostas enviadas por ele para inferir explicitamente o seu modelo cognitivo.

\input{capitulos/casos-uso/uc1}

O segundo caso de uso descreve o cenário de notificação do docente. Nele, o docente é autenticado no sistema e o sistema exibe uma lista de alunos disponíveis nas mais diversas turmas. O docente seleciona um aluno e então o sistema exibe os dados relativos ao modelo do aluno. O trecho possui a descrição do caso de uso.

\input{capitulos/casos-uso/uc2}

Os terceiro e quarto casos de uso dizem respeito à inferência do modelo afetivo e metacognitivo do aluno, respectivamente.

\input{capitulos/casos-uso/uc3}

\input{capitulos/casos-uso/uc4}

Por fim, o último caso de uso foi levantado para prever a interação do AVA com o SMA Frank. Devido a possibilidade dos Ambientes Virtuais de Aprendizagem serem desenvolvidos em qualquer linguagem, é necessário utilizar-se de uma forma de comunicação comum entre aplicações.

Logo o SMA Frank irá utilizar-se de WebServices para a comunicação externa, garantindo que diversas aplicações poderão interagir com o SMA. Para novos AVAs, tudo o que precisará ser feito é a implementação da assinatura do serviço no WebService. Dessa forma a solução garante uma intervenção mínima no código do AVA, exigindo menos tempo na codificação da comunicação e garantindo o foco na inferência à ser feita pelo SMA. Segue a descrição do caso de uso.

\input{capitulos/casos-uso/uc5}

Após o desenvolvimento dos casos de uso, foi necessário refinar os diagramas de sequência. Todos os diagramas foram desenvolvidos na ferramenta~\emph{agentTool}, visto que ele acompanha todas as fases do MASE. Para o primeiro caso de uso, foram desenvolvidos dois diagramas de sequência distintos: Um para o fluxo principal e outro para o fluxo alternativo.

A imagem~\ref{fig:dss-uc1-fluxo-principal} refere-se ao fluxo principal do caso de uso 1. Neste diagrama de sequência, existem 6 regras. O fluxo do Sistema inicia-se com a regra~\emph{Manager}. Ele gera um evento de localização do aluno. Em seguida, gera o evento enviar para a regra~\emph{StudentWorkGroup}, com o parâmetro~\emph{questionário}. A regra~\emph{StudentWorkGroup} gera o evento de enviar para as regras~\emph{CognitiveAction},~\emph{AffectiveAction} e~\emph{MetacognitiveAction}. Eles retornam respectivamente os modelos~\emph{Cognitivo},~\emph{Afetivo} e~\emph{Metacognitivo}. A regra~\emph{cognitiveAction} ainda gera mais um evento de envio para a regra~\emph{LearningMethodAnalyzer}, que retorna o estilo de aprendizagem.

\begin{figure}
	\centering
	\includegraphics[scale=0.48]{images/dss-uc1-fluxo-principal.png}
	\caption{Diagrama de sequência do fluxo principal, caso de uso 1.}
	\label{fig:dss-uc1-fluxo-principal}
\end{figure}

A imagem~\ref{fig:dss-uc1-fluxo-alternativo} representa o fluxo de exceção do primeiro caso de uso. A regra~\emph{WebServiceInterface} recebe os dados do AVA e envia para a regra Manager por meio do evento~\emph{enviar}. Após esse evento, a regra~\emph{StudentWorkgroup} recebe o evento e reenvia para~\emph{CognitiveAction}. Em seguida ele envia para as regras~\emph{LearningMethodAnalyzer} e~\emph{PerformanceAnalyzer} que vão inferir o estilo de aprendizagem e a performance. Por fim, com estes dados, o modelo cognitivo é retornado para a regra~\emph{StudentWorkgroup}.

\begin{figure}
	\centering
	\includegraphics[scale=0.48]{images/dss-uc1-fluxo-alternativo}
	\caption{Diagrama de sequência do fluxo de exceção, caso de uso 1.}
	\label{fig:dss-uc1-fluxo-alternativo}
\end{figure}

A imagem~\ref{fig:dss-uc3-fluxo-principal} representa o fluxo principal do caso de uso 3, inferência afetiva. O processo de comunicação das regras~\emph{WebServiceInterface} e~\emph{StudentWorkgroup} funciona de forma semelhante ao diagrama anterior. A regra~\emph{AffectiveAction} gera um evento de inferência de modelagem afetiva.

\begin{figure}
	\centering
	\includegraphics[scale=0.48]{images/dss-uc3-fluxo-principal.png}
	\caption{Diagrama de sequência do fluxo principal, caso de uso 3.}
	\label{fig:dss-uc3-fluxo-principal}
\end{figure}

O diagrama de sequência 4~\ref{fig:dss-uc4-fluxo-principal} funciona similar ao caso de uso anterior, com a diferença de que a regra~\emph{MetacognitiveAction} realiza a inferência da modelagem metacognitiva.

\begin{figure}
	\centering
	\includegraphics[scale=0.48]{images/dss-uc4-fluxo-principal.png}
	\caption{Diagrama de sequência do fluxo principal, caso de uso 4.}
	\label{fig:dss-uc4-fluxo-principal}
\end{figure}

Por fim o último diagrama de sequência~\ref{fig:dss-uc5-fluxo-principal} representa a counicação da regra~\emph{WebServiceInterface} com a regra~\emph{Manager}. A primeira realiza a validação de dados e em seguida o envio de dados. Após receber os dados, a regra~\emph{Manager} localiza o aluno e continua o fluxo de execução.

\begin{figure}
	\centering
	\includegraphics[scale=0.48]{images/dss-uc5-fluxo-principal.png}
	\caption{Diagrama de sequência do fluxo principal, caso de uso 5.}
	\label{fig:dss-uc5-fluxo-principal}
\end{figure}

Por fim, após o levantamento de todas as regras foi necessário criar tarefas para a criação do~\emph{MASE Role Model}.


\begin{table}
	\caption{Estruturação das Tarefas por Regra}
	\begin{tabular}{|p{5cm} | p{9cm}|}
		\hline
		\textbf{Seção do Caso de Uso}	& \textbf{Significado} \\
		\hline
		Nome do Caso de Uso 	& Nome do caso de uso, iniciando-se com um verbo  \\
		\hline
	\end{tabular}
	\label{tabela:topicos_uc}
\end{table}

\begin{figure}
	\centering
	\includegraphics[scale=0.48]{images/mase-role-model.png}
	\caption{Diagrama ~\emph{MASE Role Model} gerado para o SMA Frank.}
	\label{fig:dss-uc5-fluxo-principal}
\end{figure}







\subsection{Design}\label{subsection:design}
